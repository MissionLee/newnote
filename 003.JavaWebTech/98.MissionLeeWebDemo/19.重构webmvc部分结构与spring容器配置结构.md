# 重构

> 重构这一部分主要是因为我想在这份代码里里面放两个个人项目，有一个项目没有什么用户权限这些内容，另一个项目则有，所以当前文件的摆放位置还有spring容器的配置不太协调

主要问题
- 现在的configuration所在目录层级高于webmvc，spring配置也是configuration通用的，现在想把这部分转为每个项目独立，这样有一个项目我就可以不使用权限监控，但是同时使用拦截器了
  - 我有一个总是返回 true的权限拦截器，就是为了这种项目准备的
  - 也可以把整个拦截体系移除

- 目录名称调整
  - pers.missionlee.web.basic 调整为 pers.missionlee.web.component
    - 原本basic目录里面既包括各种功能组件，也包括配置文件
    - 现在只包括功能组件
      - 拦截器
      - Aop
      - 权限控制
      - 通用返回值
      - 用户session
    - 配置转移到具体项目下，根据项目需求，配置上面的内容

- 原本 configuration移动位置
  - 现在放在了pers.missionlee.web.mvc.basic 包内（每个项目使用独立的configuration，这样有的项目可以直接不引入权限模块）

- spring配置的调整思路
  - 父容器 applicationContext里面提供通用内容
    - mvc组件：返回值组件，拦截器组件，Aop组件用户session组件等等
    - 通用service（如果存在）🔺🔺 这部分不合适不放在这
    - dao层组件 🔺🔺 后来思考这部分不合适，每个项目放在自身的配置文件中其实更方便
      - 如果不同项目，此处会有多个不同的连接池配置
      - redis连接池
      - mysql连接池

- 项目部分重构
  - 把之前的basic功能改为basic项目 ⭐⭐⭐
    - 其他项目可以直接把基础代码复制粘贴一份过去，或者具体项目如果需要这些内容可以在git上面拉一个分支，并且在这个基础上进行改动